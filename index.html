<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>GeoGuessr Single Image Demo</title>
  <style>
    body {
      background: #181818;
      margin: 0;
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      height: 100vh;
      gap: 40px;
    }
    #image-area, #map-area {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #main-img, #map-img {
      border: 2px solid #555;
      border-radius: 10px;
      background: #222;
    }
    #map-img {
      cursor: crosshair;
    }
    .marker, .guess-marker {
      position: absolute;
      width: 24px;
      height: 24px;
      background-size: contain;
      pointer-events: none;
      transform: translate(-12px, -24px);
    }
    .marker {
      background: url('https://upload.wikimedia.org/wikipedia/commons/e/ec/RedDot.svg') center center no-repeat;
      opacity: 0.8;
      z-index: 2;
    }
    .guess-marker {
      background: url('https://upload.wikimedia.org/wikipedia/commons/0/0d/BlueDot.svg') center center no-repeat;
      opacity: 0.8;
      z-index: 3;
    }
    #map-container {
      position: relative;
      display: inline-block;
    }
    label {
      color: #eee;
      margin-bottom: 8px;
    }
    #coords, #guess-coords {
      color: #eee;
      margin-top: 10px;
    }
    #distance {
      color: #f8e800;
      font-weight: bold;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div id="image-area">
    <label>Guess the location for this image:</label>
    <img id="main-img"
      src="https://cdn.discordapp.com/attachments/1193363353893093376/1406389283765616640/image.png?ex=68a24996&is=68a0f816&hm=111025e3954ce07ffb83b4f056cb05cf8795f8d44b6d22d54a5f83232425b130&"
      alt="Main image" width="400">
  </div>
  <div id="map-area">
    <label>Map (Click to guess the location)</label>
    <div id="map-container">
      <img id="map-img"
        src="https://cdn.discordapp.com/attachments/940770768365694986/1403905625364369449/Prueba.png?ex=68a1d240&is=68a080c0&hm=ac1aa0f8df4a1cbf6cc1f8f3b70c21deedca94529d5cc8384e1ae356c2d02b75&"
        alt="Map" width="400">
      <!-- Markers will be inserted here -->
    </div>
    <div id="coords"></div>
    <div id="guess-coords"></div>
    <div id="distance"></div>
  </div>
  <script>
    // Set the CORRECT area coordinates here:
    const correctX = 120;  // <-- Change as needed!
    const correctY = 200;  // <-- Change as needed!

    // DOM
    const mapImg = document.getElementById('map-img');
    const mapContainer = document.getElementById('map-container');
    const coordsDiv = document.getElementById('coords');
    const guessCoordsDiv = document.getElementById('guess-coords');
    const distanceDiv = document.getElementById('distance');
    let marker, guessMarker;

    // Place the correct marker on load
    function placeCorrectMarker(x, y) {
      if (marker) marker.remove();
      marker = document.createElement('div');
      marker.className = 'marker';
      marker.style.left = `${x}px`;
      marker.style.top = `${y}px`;
      mapContainer.appendChild(marker);
      coordsDiv.textContent = `Correct location: (${Math.round(x)}, ${Math.round(y)})`;
    }

    // Place user's guess marker
    function placeGuessMarker(x, y) {
      if (guessMarker) guessMarker.remove();
      guessMarker = document.createElement('div');
      guessMarker.className = 'guess-marker';
      guessMarker.style.left = `${x}px`;
      guessMarker.style.top = `${y}px`;
      mapContainer.appendChild(guessMarker);
      guessCoordsDiv.textContent = `Your guess: (${Math.round(x)}, ${Math.round(y)})`;

      // Calculate distance to correct spot
      const dx = x - correctX;
      const dy = y - correctY;
      const dist = Math.sqrt(dx * dx + dy * dy);
      distanceDiv.textContent = `Distance from correct location: ${Math.round(dist)} pixels`;
    }

    // Initial marker
    placeCorrectMarker(correctX, correctY);

    // Listen for guesses
    mapImg.addEventListener('click', function(e) {
      const rect = mapImg.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      placeGuessMarker(x, y);
    });
  </script>
</body>
</html>
